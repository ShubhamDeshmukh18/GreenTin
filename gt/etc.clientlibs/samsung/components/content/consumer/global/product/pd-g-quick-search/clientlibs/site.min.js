(function(){function d(){e(f.section).target.forEach(function(b){c.instances.has(b)?c.instances.get(b).reInit():new c(b)})}var e=window.sg.common.$q,n=window.sg.common.menu,f={section:".quick-search"},c=function(b){var a=this;this.selector={section:f.section,select:".quick-search__select-wrap select",reset:".reset-btn",numberWrap:".quick-search__counter",number:".quick-search__number"};this.ele={section:e(b),reset:null,select:null,numberWrap:null,number:null};this.resetNumber=this.setNumber=null;
this.setProperty();this.handler={change:function(){a.setNumber=null;a.hideNumber()},reset:function(){a.changeNumber(a.resetNumber);a.ele.select.off("change",a.handler.change);a.ele.section.find(".menu").target.forEach(function(a){n.reInit(a,-1)});a.ele.select=a.ele.section.find(a.selector.select);a.ele.select.on("change",a.handler.change)}};this.timer=this.count=null;c.instances.set(b,this);this.init()};c.prototype.setProperty=function(){this.ele.select=this.ele.section.find(this.selector.select);
this.ele.reset=this.ele.section.find(this.selector.reset);this.ele.numberWrap=this.ele.section.find(this.selector.numberWrap);this.ele.number=this.ele.section.find(this.selector.number);this.resetNumber=this.ele.number.target[0].innerHTML};c.prototype.init=function(){this.bindEvents()};c.prototype.reInit=function(){this.setProperty();this.bindEvents()};c.prototype.bindEvents=function(){this.ele.select.off("change",this.handler.change).on("change",this.handler.change);this.ele.reset.off("click",this.handler.reset).on("click",
this.handler.reset)};c.prototype.showNumber=function(){this.count=null;this.ele.number.innerHTML(this.setNumber);this.ele.numberWrap.stop().animate({opacity:1},250,"cubic-bezier (0.2, 0.6, 0.4, 1)");this.setNumber=null};c.prototype.changeNumber=function(b){console.log(this.count);null===this.count?this.ele.number.innerHTML(b):(this.setNumber=b,this.showNumber())};c.prototype.hideNumber=function(){null===this.count&&(this.count=0,this.ele.numberWrap.stop().animate({opacity:0},250,"cubic-bezier (0.5, 0.1, 0.7, 0.2)"))};
c.instances=new WeakMap;window.sg.components.quickSearch={init:d,reInit:function(){e(f.section+" .menu").target.forEach(function(b){n.reInit(b,-1)});e(f.section).target.forEach(function(b){c.instances.has(b)&&c.instances.get(b).reInit()})},setNumber:function(b,a){c.instances.has(b)&&c.instances.get(b).changeNumber(a)}};e.ready(d)})();
(function(d,e){function n(b,k,l){e.ajax({url:a,type:"GET",async:!1,data:b}).done(function(a){if(null!=a&&null!=a.response){var b=a.response;200===b.statusCode&&null!=b.resultData&&(l?f(b.resultData,k):d.setTimeout(function(){d.sg.components.quickSearch.setNumber(k[0],c(b.resultData))},30))}})}function f(a,b){if(null!=a.navGroups&&0<a.navGroups.length){var l=a.navGroups,k=b.find(".pd08-findBtn").attr("href");k&&(k=k.replace("/"+g+"/","").split("/")[0].toLowerCase());b.find(".menu__select").each(function(){for(var a=
e(this),b=a.attr("data-navGroup"),c=0;c<l.length;c++)if(l[c].categoryFilterName===b||l[c].categoryFilterDispName===b){a.attr("data-default-message",l[c].categoryFilterDispName);a.attr("data-filterCount",c+1);b=l[c].productFinderFilter;if(null!=b){c="";for(var p=0;p<b.length;p++){var d=b[p].filterRegName||"";c+='\x3coption value\x3d"'+b[p].filterSearchCode+'" data-filterRegName\x3d"'+d+'" an-tr\x3d"pd08_quick search-'+r+'-text-link" an-ca\x3d"filter and sort" an-ac\x3d"filter" an-la\x3d"quick search filter:'+
k+":"+d.toLowerCase()+'"\x3e\n\t\t\t\t\t\t\t\t\t\t'+b[p].filterLocalName+"\n\t\t\t\t\t\t\t\t\t\x3c/option\x3e"}a.html(c)}break}});b.find(".quick-search__number").html(c(a));d.sg.components.quickSearch.reInit()}}function c(a){var b=0;a.common&&a.common.totalRecord&&(b=a.common.totalRecord);return b}function b(){var a="";0===d.location.pathname.indexOf("/content/samsung")&&(a="/content/samsung");e("section.quick-search").each(function(){var b=e(this),c={type:b.attr("data-typeCode"),siteCode:g,start:1,
num:1,onlyFilterInfoYN:"Y"};h&&(c.shopSiteCode=h);n(c,b,!0);var d=b.find(".menu__select"),f=b.find(".reset-btn"),q=b.find(".pd08-findBtn"),m=a+q.attr("href");q.attr("href",m);d.off("change");d.on("change",function(){var a=m+"?",f=0;d.each(function(){var b=e(this).val(),d=e(this).attr("data-filterCount");if(null!=b){var g=c["filter"+d]||"";g&&(g+="+");c["filter"+d]=g+b;0!==f&&(a+="+");3>f?(b=e(this).find("option[value\x3d'"+b+"']"),a+=b.attr("data-filterRegName")):a+=e(this).val();f++}});q.attr("href",
a);n(c,b,!1);c={type:c.type,siteCode:g,start:1,num:1,onlyFilterInfoYN:"Y"};h&&(c.shopSiteCode=h)});f.off("click");f.on("click",function(){q.attr("href",m)})})}var a=e("#searchDomain").val(),r=(digitalData.page.pageInfo.pageTrack||"").toLowerCase(),g=e("#siteCode").val(),m=e("#shopIntegrationFlag").val();a="GPv2"===m?"searchapi-sa.samsung.com"===a.split("/")[2]?a+"/qa/b2c/product/finder/gpv2":a+"/front/b2c/product/finder/gpv2":"Hybris-new"===m?"searchapi-sa.samsung.com"===a.split("/")[2]?a+"/qa/b2c/product/finder/newhybris":
a+"/front/b2c/product/finder/newhybris":"Hybris-intg"===m?"searchapi-sa.samsung.com"===a.split("/")[2]?a+"/qa/b2c/product/finder/hybris":a+"/front/b2c/product/finder/hybris":"searchapi-sa.samsung.com"===a.split("/")[2]?a+"/qa/b2c/product/finder/global":a+"/front/b2c/product/finder/global";var h="";"ae"===g||"ae_ar"===g?h=d.cookies.getCookie("dotcom_multistore")||g:"levant"===g?h="jo":"levant_ar"===g?h="jo_ar":"n_africa"===g&&(h="ma");e(function(){b();d.sg.components.quickSearch.opInit=b})})(window,
window.jQuery);