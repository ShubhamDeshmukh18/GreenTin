var tariffData={};
(function(x,e){var l=e("#priceCurrency").val();x=e("#multiLanguageYn").val();var E=e("#localLang").val(),v=e("#storeDomain").val(),m=e("#siteCode").val(),t="",q={"Cache-Control":"no-cache","Content-Type":"application/json","Access-Control-Allow-Origin":"*"};"Y"===x&&(q["x-ecom-locale"]=E);var k={},n=[],y=function(c,a,e){var b=k[c];a='\x3cdiv id\x3d"'+c+"-"+a+'" role\x3d"tabpanel" aria-labelledby\x3d"tab-'+a+'" aria-hidden\x3d"true" tabindex\x3d"-1" class\x3d"tariff-popup__tab-panel-item"\x3e';for(var d=
0;d<b.length;d++)if("uk"!==m||b[d].partner_attributes.use_case===e){a+='\x3cdiv class\x3d"tariff-popup__radio" data-index\x3d'+c+":"+d+"\x3e";a+='\t\x3cinput type\x3d"radio" name\x3d"tariff_option" class\x3d"hidden" id\x3d"'+c+":"+d+'"\x3e';a+='\t\x3clabel class\x3d"radio-v2__label tariff-popup__radio-label" for\x3d"'+c+":"+d+'" an-tr\x3d"header(pim)_service option selector tariff-'+t+'-option-select" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"tariff:select plan:'+c+":"+b[d].product_display_name.toLocaleLowerCase()+
'"\x3e';a+='\t\t\x3cspan class\x3d"radio-v2__label-box-wrap tariff-popup__radio-box"\x3e';a+='\t\t\t\x3cspan class\x3d"radio-v2__label-box"\x3e';a+='\t\t\t\t\x3cspan class\x3d"radio-v2__label-box-circle"\x3e\x3c/span\x3e';a+="\t\t\t\x3c/span\x3e";a+="\t\t\x3c/span\x3e";a+='\t\t\x3cspan class\x3d"tariff-popup__plan-wrap"\x3e';a+='\t\t\t\x3cspan class\x3d"tariff-popup__plan"\x3e';a+='\t\t\t\t\x3cspan class\x3d"tariff-popup__plan-group-main"\x3e';a+='\t\t\t\t\t\x3cspan class\x3d"tariff-popup__plan-header"\x3e';
a+='\t\t\t\t\t\t\x3cspan class\x3d"tariff-popup__plan-img"\x3e';a+='\t\t\t\t\t\t\t\x3cimg src\x3d"'+b[d].images.large_image.url+'" alt\x3d""\x3e';a+="\t\t\t\t\t\t\x3c/span\x3e";a+='\t\t\t\t\t\t\x3cspan class\x3d"tariff-popup__plan-title"\x3e'+b[d].product_display_name;"uk"===m&&(a+='\t\t\t\t\t\t\x3cspan class\x3d"tariff-popup__plan-sub-title"\x3e'+b[d].partner_attributes.capacities.value+" "+b[d].partner_attributes.capacities.unit+"\x3c/span\x3e");a+="\t\t\t\t\t\t\x3c/span\x3e";a+="\t\t\t\t\t\x3c/span\x3e";
a+='\t\t\t\t\t\x3cspan class\x3d"tariff-popup__plan-detail"\x3e';if(null!=b[d].partner_attributes&&null!=b[d].partner_attributes.tarifhighlights){var f=0;a+='\t\t\t\t\x3cspan class\x3d"tariff-popup__plan-detail-list"\x3e';if("uk"===m){var g=b[d].partner_attributes.promotional_data.value;f=b[d].partner_attributes.capacities.value;var u=b[d].partner_attributes.minutes.value,r=b[d].partner_attributes.texts.value,p="";0<g?(p+="\x3cstrike\x3e"+f+" "+b[d].partner_attributes.capacities.unit+" "+Granite.I18n.get("Data")+
"\x3c/strike\x3e",p=-1<g.indexOf("999.999")?p+(Granite.I18n.get("Unlimited")+" "+Granite.I18n.get("Data")):p+(" "+(parseInt(g)+parseInt(f))+" "+b[d].partner_attributes.promotional_data.unit+" "+Granite.I18n.get("Data"))):p=-1<f.indexOf("999.999")?p+(Granite.I18n.get("Unlimited")+" "+Granite.I18n.get("Data")):p+(f+" "+b[d].partner_attributes.capacities.unit+" "+Granite.I18n.get("Data"));u=-1<u.indexOf("-1")?Granite.I18n.get("Unlimited")+" "+b[d].partner_attributes.minutes.unit:u+("\x26nbsp;"+b[d].partner_attributes.minutes.unit);
r=-1<r.indexOf("-1")?Granite.I18n.get("Unlimited")+" "+b[d].partner_attributes.texts.unit:r+("\x26nbsp;"+b[d].partner_attributes.texts.unit);a+='\t\t\x3cspan class\x3d"tariff-popup__plan-detail-item"\x3e\x3cb\x3e'+p+"\x3c/b\x3e\x3c/span\x3e";a+='\t\t\x3cspan class\x3d"tariff-popup__plan-detail-item"\x3e\x3cb\x3e'+u+"\x3c/b\x3e\x3c/span\x3e";a+='\t\t\x3cspan class\x3d"tariff-popup__plan-detail-item"\x3e\x3cb\x3e'+r+"\x3c/b\x3e\x3c/span\x3e";f=3}for(g=0;g<b[d].partner_attributes.tarifhighlights.length;g++)f++,
a=5<f?a+('\t\x3cspan class\x3d"tariff-popup__plan-detail-item" style\x3d"display:none;"\x3e'+b[d].partner_attributes.tarifhighlights[g].name+"\x3c/span\x3e"):a+('\t\x3cspan class\x3d"tariff-popup__plan-detail-item"\x3e'+b[d].partner_attributes.tarifhighlights[g].name+"\x3c/span\x3e");6<f&&(a+='\t\x3ca href\x3d"javascript:;" class\x3d"tariff-popup__plan-detail-view-more"\x3e',a+='\t\t\x3cspan class\x3d"view-more-text"\x3e'+Granite.I18n.get("View more")+"\x3c/span\x3e",a+='\t\t\x3csvg class\x3d"icon view-more-icon"\x3e',
a+='\t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#open-down-bold"\x3e\x3c/use\x3e',a+="\t\t\x3c/svg\x3e",a+='\t\t\x3cspan class\x3d"view-less-text"\x3e'+Granite.I18n.get("View less")+"\x3c/span\x3e",a+='\t\t\x3csvg class\x3d"icon view-less-icon"\x3e',a+='\t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#close-up-bold"\x3e\x3c/use\x3e',a+=
"\t\t\x3c/svg\x3e",a+="\t\x3c/a\x3e");a+="\t\x3c/span\x3e"}a+="\t\x3c/span\x3e";a+="\x3c/span\x3e";a+='\x3cspan class\x3d"tariff-popup__plan-group-sub"\x3e';g="";if(!0===b[d].is_top_tariff&&!0===b[d].is_student_tariff)g=Granite.I18n.get("Young");else if(!0===b[d].is_top_tariff||!0===b[d].is_student_tariff)g=Granite.I18n.get("Samsung online exclusive");"uk"!==m&&""!==g&&(a+='\t\t\x3cspan class\x3d"tariff-popup__plan-suggest-flag"\x3e'+g+"\x3c/span\x3e");null!=b[d].promotion_monthly_rate?a+='\t\t\x3cspan class\x3d"tariff-popup__plan-price-title"\x3e'+
currencyComma(b[d].promotion_monthly_rate.value,l)+"/"+Granite.I18n.get("month")+"\x3c/span\x3e":null!=b[d].monthly_rate&&(a+='\t\t\x3cspan class\x3d"tariff-popup__plan-price-title"\x3e'+currencyComma(b[d].monthly_rate.value,l)+"/"+Granite.I18n.get("month")+"\x3c/span\x3e");a="uk"==m?a+('\t\t\t\x3cspan class\x3d"tariff-popup__plan-price-unit"\x3e'+Granite.I18n.get("onetime device price")+" "+currencyComma(b[d].sale_price.value,l)+"\x3c/span\x3e"):a+('\t\t\t\x3cspan class\x3d"tariff-popup__plan-price-unit"\x3e'+
currencyComma(b[d].sale_price.value,l)+" "+Granite.I18n.get("onetime device price")+"\x3c/span\x3e");null!=b[d].promotion_monthly_rate&&(g="",null!=b[d].promotion_duration&&(g=b[d].promotion_duration.value),a+='\t\t\x3cspan class\x3d"tariff-popup__plan-price-post-pay"\x3e'+currencyComma(b[d].monthly_rate.value,l)+" "+Granite.I18n.get("to")+" "+g+" "+Granite.I18n.get("months")+"\x3c/span\x3e");"uk"==m?a+='\t\t\t\x3cspan class\x3d"tariff-popup__plan-price-single"\x3e'+Granite.I18n.get("onetime connection price")+
"\x3c/span\x3e":null!=b[d].connection_fee&&(a+='\t\t\t\x3cspan class\x3d"tariff-popup__plan-price-single"\x3e'+currencyComma(b[d].connection_fee.value,l)+" "+Granite.I18n.get("onetime connection price")+"\x3c/span\x3e");"uk"===m&&(a+='\t\x3cspan class\x3d"tariff-popup__plan-price-single"\x3e'+Granite.I18n.get("24 Months Contract")+"\x3c/span\x3e");if("uk"!==m){f="";if(null!=b[d].partner_attributes&&null!=b[d].partner_attributes.attributes&&null!=b[d].partner_attributes.attributes.legal)for(g=0;g<
b[d].partner_attributes.attributes.legal.length;g++)"info"===b[d].partner_attributes.attributes.legal[g].key&&(f=b[d].partner_attributes.attributes.legal[g].value);""!==f&&(a+='\t\t\x3ca href\x3d"'+f+'" title\x3d"PDF link(Opens in a new window)" target\x3d"_blank"\x3e '+Granite.I18n.get("Learn more"),a+='\t\t\t\x3csvg class\x3d"icon"\x3e',a+='\t\t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#launch-bold"\x3e\x3c/use\x3e',
a+="\t\t\t\x3c/svg\x3e",a+="\t\t\x3c/a\x3e")}"uk"===m&&(0<b[d].partner_attributes.tarifhighlights.length||null!=b[d].partner_attributes.outOfBundleCharges&&void 0!=b[d].partner_attributes.outOfBundleCharges)&&(a+='\t\x3cbutton class\x3d"tariff-popup__plan-see-more-info" data-plan-title\x3d"'+b[d].product_display_name+'" data-tariff-sku\x3d"'+b[d].sku+'" an-tr\x3d"header(pim)_service option selector tariff-'+t+'-text-button" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"tariff:step1:See More"\x3e '+
Granite.I18n.get("See More",null,m)+" \x3c/button\x3e");a+="\t\t\t\x3c/span\x3e";a+="\t\t\x3c/span\x3e";a+="\t\x3c/span\x3e";a+="\x3c/label\x3e";a+="\x3c/div\x3e"}return a+"\x3c/div\x3e"},F=function(c,a){var f=Object.keys(a[c.sku]);a=a[c.sku];var b=c.carrier_attributes.carrier_plans;c=[];for(var d=0;d<f.length;d++)for(var h=0;h<b.length;h++)if(f[d]===b[h].sku&&null!=b[h].carrier)if(null==b[h].child_skus||1>b[h].child_skus.length)e.extend(b[h],a[f[d]]),null==k[b[h].carrier.id]&&(k[b[h].carrier.id]=
[],c.push(b[h].carrier)),k[b[h].carrier.id].push(b[h]),!0===b[h].is_top_tariff&&(null==k.topTariff&&(k.topTariff=[]),k.topTariff.push(b[h]));else for(var g=0;g<b.length;g++)(null==b[g].child_skus||1>b[g].child_skus.length)&&b[h].child_skus[0]===b[g].sku&&(null==b[g].additionalPromotion&&(b[g].additionalPromotion=[]),e.extend(a[f[d]],b[h]),b[g].additionalPromotion.push(a[f[d]]));c.sort(function(a,b){return a.sort_order<b.sort_order?-1:a.sort_order>b.sort_order?1:0});for(f=0;f<c.length;f++)n.push(c[f].id);
null!=k.topTariff&&0<k.topTariff.length&&n.unshift("topTariff");b=c=a=f="";if(0<n.length)for(d=0;d<n.length;d++){h=k[n[d]];var l=g=!1;if("uk"===m)for(var r=0;r<h.length;r++){var p=h[r].partner_attributes.use_case;void 0===p&&(p="UC100");"UC100"===p?g=!0:"UC300"===p&&(l=!0)}else g=!0;g&&(f+=z(n[d],d,h[0].carrier.images.url),c+=y(n[d],d,"UC100"));l&&(a+=z(n[d],d,h[0].carrier.images.url),b+=y(n[d],d,"UC300"))}""===a&&e("#choose-tab-2").closest(".tariff-popup__choose-item").hide();e(".tariff-popup .tariff-popup__contents-plan #choose-content-1 .tariff-popup__tab-list").html(f);
e(".tariff-popup .tariff-popup__contents-plan #choose-content-2 .tariff-popup__tab-list").html(a);e(".tariff-popup .tariff-popup__contents-plan #choose-content-1 .tariff-popup__tab-panel").html(c);e(".tariff-popup .tariff-popup__contents-plan #choose-content-2 .tariff-popup__tab-panel").html(b);e(".tariff-popup .tariff-popup__close").attr("an-la","tariff:step1:close");window.sg.components.tariffPopup.showPopup()},G=function(c){for(var a=c.carrier_attributes.carrier_plans,f=[],b=0;b<a.length;b++)null!=
a[b].sku&&""!==a[b].sku&&f.push(a[b].sku);1>f.length||(a={skus:[c.sku],plans:f},"true"===e("#isEppPage").val()&&(a.store_id=e("#eppCompanyCode").val()),e.ajax({headers:q,url:v+"/v4/configurator/fetch-finance-product-price",type:"POST",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,data:JSON.stringify(a),success:function(a){null!=a&&(k={},n=[],null!=a[c.sku]&&(F(c,a),window.sg.components.tariffPopup.reInit()))},error:function(a){errLayerPop(a)}}))},z=function(c,a,e){var b="";
"topTariff"===c?(b=b+'\x3cdiv role\x3d"presentation" class\x3d"tariff-popup__tab-item-wrap"\x3e'+('\t\x3ca href\x3d"jasvascript:void(0);" id\x3d"tab-'+a+'" role\x3d"tab" aria-selected\x3d"false" aria-hidden\x3d"true" tabIndex\x3d"0" class\x3d"tariff-popup__tab-item" an-tr\x3d"header(pim)_service option selector tariff-'+t+'-tab-select" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"tariff:select plan:'+c+'"\x3e'),b+="\t\t\x3cspan\x3e"+Granite.I18n.get("Top Tariff")+"\x3c/span\x3e",b+=
"\t\x3c/a\x3e\x3c/div\x3e"):(b=b+'\x3cdiv role\x3d"presentation" class\x3d"tariff-popup__tab-item-wrap"\x3e'+('\t\x3ca href\x3d"jasvascript:void(0);" id\x3d"tab-'+a+'" role\x3d"tab" aria-selected\x3d"false" aria-hidden\x3d"true" tabIndex\x3d"0" class\x3d"tariff-popup__tab-item" aria-selected\x3d"true" an-tr\x3d"header(pim)_service option selector tariff-'+t+'-tab-select" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"tariff:select plan:'+c+'"\x3e'),b=b+('\t\t\x3cimg src\x3d"'+e+'" alt\x3d""\x3e')+
"\t\x3c/a\x3e\x3c/div\x3e");return b};e(document).on("click",".tariff-popup .tariff-popup__btn-next",function(c){c=e(".tariff-popup .tariff-popup__radio.tariff-popup__radio--checked").attr("data-index").split(":");c=k[c[0]][c[1]];"uk"!==m?H(c):(A(c),window.sg.components.tariffPopup.reInit(1),e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").removeClass("cta--disabled").removeAttr("disabled"));e(".tariff-popup .tariff-popup__close").attr("an-la","tariff:step2:close")});
var H=function(c){e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__checkbox-wrap").html("");var a={display:"aem_carrier",tags:c.carrier.id};"true"===e("#isEppPage").val()&&(a.store_id=e("#eppCompanyCode").val());e.ajax({headers:q,url:v+"/v1/tnc",type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,data:a,success:function(a){var b="",d=!1;if(null!=a&&0<a.length){for(var f="",g=0,l=0;l<a.length;l++){var k=a[l].data;if(null!=k&&!0===k.is_active)if(k.read_only)f+=
'\t\x3cp class\x3d"tariff-popup__checkbox-read-only"\x3e'+k.content+"\x3c/p\x3e";else{var m=a[l].id,n=k.is_required?"tariff-popup__checkbox--required":"",t=k.is_required?"required":"";""!==n&&(d=!0);f+='\x3cdiv class\x3d"tariff-popup__checkbox '+n+'"\x3e';f+='\t\x3cinput type\x3d"checkbox" name\x3d"tariff_chk" class\x3d"hidden" id\x3d"tariff_chk'+g+'" data-id\x3d"'+m+'" '+t+"\x3e";f+='\t\x3clabel class\x3d"checkbox-v2__label tariff-popup__checkbox-label" for\x3d"tariff_chk'+g+'"\x3e';f+='\t\t\x3cspan class\x3d"checkbox-v2__label-box-wrap tariff-popup__checkbox-box"\x3e';
f+='\t\t\t\x3cspan class\x3d"checkbox-v2__label-box"\x3e';f+='\t\t\t\x3csvg class\x3d"checkbox-v2__label-box-icon" focusable\x3d"false"\x3e';f+='\t\t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#done-bold"\x3e\x3c/use\x3e';f+="\t\t\t\x3c/svg\x3e";f+="\t\t\x3c/span\x3e";f+="\t\x3c/span\x3e";f+=k.content;f+="\x3c/label\x3e";f+="\x3c/div\x3e";g++}}0<f.length&&(b+='\x3cstrong class\x3d"tariff-popup__checkbox-title"\x3e'+
Granite.I18n.get("Check Terms and Conditions")+"\x3c/strong\x3e",b+=f)}d&&(b+='\x3cp class\x3d"tariff-popup__checkbox-required-message"\x3e'+Granite.I18n.get("* Required field")+"\x3c/p\x3e");e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__checkbox-wrap").html(b);A(c);a=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__checkbox-wrap").find("input[type\x3d'checkbox']");var q=!0;0<a.length&&a.each(function(){var a=e(this);a.prop("required")&&(q=q&&a.is(":checked"))});
q?e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").removeClass("cta--disabled").removeAttr("disabled"):e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").addClass("cta--disabled").attr("disabled","disabled");window.sg.components.tariffPopup.reInit(1)},error:function(a){errLayerPop(a);e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").removeClass("cta--disabled").removeAttr("disabled")}})},A=function(c){w(c);
e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected").attr("data-index",e(".tariff-popup .tariff-popup__radio.tariff-popup__radio--checked").attr("data-index"));e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-spec-img img").attr("src",c.images.large_image.url);e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-spec-name").html(c.product_display_name);null!=c.down_payment?e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-total-price").html(currencyComma(c.down_payment.value,
l)):e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-total-price").html("");var a="",f="";if(null!=c.partner_attributes){for(var b=Object.keys(c.partner_attributes.features),d=0;d<b.length;d++){a+='\x3cdiv class\x3d"tariff-popup__table-title"\x3e';a+="\t\x3cstrong\x3e"+b[d]+"\x3c/strong\x3e";a+='\x3c/div"\x3e';a+='\x3cdiv class\x3d"tariff-popup__table-list"\x3e';for(var h=0;h<c.partner_attributes.features[b[d]].length;h++)a+='\t\x3cspan class\x3d"tariff-popup__table-list-item-title"\x3e'+
c.partner_attributes.features[b[d]][h].key+"\x3c/span\x3e",a+='\t\x3cspan class\x3d"tariff-popup__table-list-item-price"\x3e'+c.partner_attributes.features[b[d]][h].value+"\x3c/span\x3e";a+="\x3c/div\x3e"}if(null!=c.partner_attributes&&null!=c.partner_attributes.attributes&&null!=c.partner_attributes.attributes.legal)for(d=0;d<c.partner_attributes.attributes.legal.length;d++)"fine_print"===c.partner_attributes.attributes.legal[d].key&&(f+=c.partner_attributes.attributes.legal[d].value)}e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__table-inner").html(a);
d="";0<f.length&&(d=d+'\x3cdiv class\x3d"tariff-popup__table-disclaimer-cta"\x3e'+('\t\x3cbutton class\x3d"cta-close" type\x3d"button"\x3e'+Granite.I18n.get("View All Plan Details")+'\x3csvg class\x3d"disclaimer-icon open-down"\x3e'),d=d+'\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#open-down-bold"\x3e\x3c/use\x3e\t\t\x3c/svg\x3e\t\x3c/button\x3e'+('\t\x3cbutton class\x3d"cta-open" type\x3d"button"\x3e'+Granite.I18n.get("Close All Plan Details")+
'\x3csvg class\x3d"disclaimer-icon close-up"\x3e'),d=d+'\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#close-up-bold"\x3e\x3c/use\x3e\t\t\x3c/svg\x3e\t\x3c/button\x3e\x3c/div\x3e'+('\x3cdiv class\x3d"tariff-popup__table-disclaimer-content"\x3e '+f+"\x3c/div\x3e"));e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__table-disclaimer").html(d);f="";d=e("#tariffAdditionalPromotionCarrierUrl").val().split(",");
if(null!=d&&0<d.length)for(b=0;b<d.length;b++)if(a=d[b].split("|"),null!=a&&0<a.length&&a[0]===c.carrier.id){f=a[1];break}a="";b=!1;if(null!=c.additionalPromotion)for(a+='\x3cstrong class\x3d"tariff-popup__selected-add-opt-title"\x3e'+Granite.I18n.get("Additional Tariff Options")+"\x3c/strong\x3e",d=0;d<c.additionalPromotion.length;d++)null!=c.additionalPromotion[d].partner_attributes&&null!=c.additionalPromotion[d].partner_attributes.display_information&&null!=c.additionalPromotion[d].partner_attributes.display_information.plan_description&&
""!==c.additionalPromotion[d].partner_attributes.display_information.plan_description&&(a+='\x3cdiv class\x3d"tariff-popup__checkbox tariff-popup__selected-add-opt-checkbox"\x3e',a+='\t\x3cinput type\x3d"checkbox" name\x3d"checkbox" class\x3d"hidden" id\x3d"tariff_spec_chk'+d+'" dataindex\x3d'+d+"\x3e",a+='\t\x3clabel class\x3d"checkbox-v2__label tariff-popup__checkbox-label" for\x3d"tariff_spec_chk'+d+'"\x3e',a+='\t\t\x3cspan class\x3d"checkbox-v2__label-box-wrap tariff-popup__checkbox-box"\x3e',
a+='\t\t\t\x3cspan class\x3d"checkbox-v2__label-box"\x3e',a+='\t\t\t\t\x3csvg class\x3d"checkbox-v2__label-box-icon" focusable\x3d"false"\x3e',a+='\t\t\t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#done-bold"\x3e\x3c/use\x3e',a+="\t\t\t\t\x3c/svg\x3e",a+="\t\t\t\x3c/span\x3e",a+="\t\t\x3c/span\x3e",a+="\t\t\x3cp\x3e"+c.additionalPromotion[d].partner_attributes.display_information.plan_description,""!==f&&(a+='\x3ca class\x3d"new-window" href\x3d"'+
f+'" title\x3d"'+Granite.I18n.get("Open in a new window")+'"\x3e'+Granite.I18n.get("More information")+'\x3csvg class\x3d"new-window-icon"\x3e',a+='\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#launch-bold"\x3e\x3c/use\x3e',a+="\x3c/svg\x3e\x3c/a\x3e"),a+="\t\t\x3c/p\x3e",a+="\t\x3c/label\x3e",a+="\x3c/div\x3e",b=!0);b?e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-add-opt").html(a):e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-add-opt").html("")};
e(document).on("click",".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-prev",function(c){e(".tariff-popup .tariff-popup__close").attr("an-la","tariff:step1:close");window.sg.components.tariffPopup.show(0)});e(document).on("click",".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__checkbox-wrap .tariff-popup__checkbox",function(){var c=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__checkbox-wrap").find("input[type\x3d'checkbox']"),a=!0;
0<c.length&&c.each(function(){var c=e(this);c.prop("required")&&(a=a&&c.is(":checked"))});a?e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").removeClass("cta--disabled").removeAttr("disabled"):e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").addClass("cta--disabled").attr("disabled","disabled")});e(document).on("click",".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-add-opt .tariff-popup__checkbox.tariff-popup__selected-add-opt-checkbox input[type\x3dcheckbox]",
function(){var c=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected").attr("data-index").split(":"),a=k[c[0]][c[1]],f=e(this).attr("dataindex");c=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-add-opt .hidden");0<c.length&&c.each(function(){var b=e(this);f===e(this).attr("dataindex")?b.prop("checked")?w(a.additionalPromotion[f]):w(a):(b.prop("checked",!1),b.closest(".tariff-popup__checkbox .tariff-popup__selected-add-opt-checkbox").removeClass("is-checked"))})});
var w=function(c){"uk"===m&&(e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").attr("data-modelcode",B+","+c.model_code),e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").attr("data-modeldisplay",C+";"+c.model_code),e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").attr("data-modelname",D+","+c.model_code));var a="";null!=c.promotion_duration&&(a=c.promotion_duration.value);null!=c.promotion_monthly_rate?
e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-spec-header .tariff-popup__selected-spec-value").html(currencyComma(c.promotion_monthly_rate.value,l)+"/"+Granite.I18n.get("month")):e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-spec-header .tariff-popup__selected-spec-value").html(currencyComma(c.monthly_rate.value,l)+"/"+Granite.I18n.get("month"));var f='\x3cli class\x3d"tariff-popup__selected-spec-item""\x3e'+('\t\x3cspan class\x3d"tariff-popup__selected-spec-title"\x3e'+
Granite.I18n.get("Device price (one time)")+"\x3c/span\x3e");f+='\t\x3cdiv class\x3d"tariff-popup__selected-spec-price"\x3e'+currencyComma(c.sale_price.value,l)+"\x3c/div\x3e";f=f+'\x3c/li\x3e\x3cli class\x3d"tariff-popup__selected-spec-item""\x3e'+('\t\x3cspan class\x3d"tariff-popup__selected-spec-title"\x3e'+Granite.I18n.get("Tariff (monthly)")+"\x3c/span\x3e");f=null!=c.promotion_monthly_rate?f+('\t\x3cdiv class\x3d"tariff-popup__selected-spec-price"\x3e'+currencyComma(c.promotion_monthly_rate.value,
l)+"\x3c/div\x3e"):f+('\t\x3cdiv class\x3d"tariff-popup__selected-spec-price"\x3e'+currencyComma(c.monthly_rate.value,l)+"\x3c/div\x3e");f+="\x3c/li\x3e";null!=c.promotion_monthly_rate&&(f=f+'\x3cli class\x3d"tariff-popup__selected-spec-item""\x3e'+('\t\x3cspan class\x3d"tariff-popup__selected-spec-title"\x3e'+Granite.I18n.get("After this")+" "+a+" "+Granite.I18n.get("months")+"\x3c/span\x3e"),f+='\t\x3cdiv class\x3d"tariff-popup__selected-spec-price"\x3e'+currencyComma(c.monthly_rate.value,l)+"\x3c/div\x3e",
f+="\x3c/li\x3e");f=f+'\x3cli class\x3d"tariff-popup__selected-spec-item""\x3e'+('\t\x3cspan class\x3d"tariff-popup__selected-spec-title"\x3e'+Granite.I18n.get("Connection fee (one off)")+"\x3c/span\x3e");"uk"===m?f+='\t\x3cdiv class\x3d"tariff-popup__selected-spec-price"\x3e\x3c/div\x3e':null!=c.connection_fee&&(f+='\t\x3cdiv class\x3d"tariff-popup__selected-spec-price"\x3e'+currencyComma(c.connection_fee.value,l)+"\x3c/div\x3e");f+="\x3c/li\x3e";e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-spec-desc .tariff-popup__selected-spec-list").html(f)},
B="",C="",D="";e(document).on("click",".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit",function(){var c=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected").attr("data-index").split(":");c=k[c[0]][c[1]];var a={};if(e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-add-opt .tariff-popup__checkbox.tariff-popup__selected-add-opt-checkbox input[type\x3dcheckbox]").is(":checked")){var f=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__selected-add-opt .tariff-popup__checkbox.tariff-popup__selected-add-opt-checkbox input[type\x3dcheckbox]:checked").attr("dataindex");
c.additionalPromotion[f].down_payment=null==c.down_payment?null:c.down_payment;e.extend(c,c.additionalPromotion[f])}a.serviceDescription=c.product_display_name;a.price=null!=c.promotion_monthly_rate?c.promotion_monthly_rate.value:c.monthly_rate.value;a.period=null!=c.promotional_data?c.promotional_data.unit:"";a.periodPrice=c.down_payment.value;a.simSkuCode=c.sim_sku;a.modelCode=c.model_code;a.tariffId="";a.tariffArr=[];a.consents=[];c=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__checkbox-wrap").find("input[type\x3d'checkbox']");
0<c.length&&c.each(function(){var b=e(this);b.is(":checked")&&a.consents.push(b.attr("data-id"))});window.sg.components.dynamic.DetailAfterEvent.offerAndAddonsDiscount(a,"tariff");window.sg.components.tariffPopup.closePopup()});e(document).on("click",".tariff-popup .tariff-popup__plan-group-sub .tariff-popup__plan-see-more-info",function(c){e(".tariff-popup .tariff-popup__contents-plan-details .tariff-popup__desc").html(e(this).attr("data-plan-title"));e(this).attr("data-tariff-sku");var a=e(this).closest(".tariff-popup__radio").attr("data-index").split(":");
c=k[a[0]][a[1]].partner_attributes.tarifhighlights;a=k[a[0]][a[1]].partner_attributes.outOfBundleCharges;var f="",b="";if(void 0!=c){for(var d=0;d<c.length;d++)f=c[d].title&&""!==c[d].title?f+("\x3ch3\x3e"+c[d].title+"\x3c/h3\x3e"):f+"\x3ch3\x3e\x3c/h3\x3e",f=c[d].description&&""!==c[d].description?f+("\x3cp\x3e"+c[d].description+"\x3c/p\x3e"):f+"\x3cp\x3e\x3c/p\x3e";e(".tariff-popup .tariff-popup__plan-details .tariff-popup__plan-details-desc.plan-benefits-desc").html(f);e(".tariff-popup .tariff-popup__plan-details").eq(0).show()}else e(".tariff-popup .tariff-popup__plan-details").eq(0).hide();
null!=a&&void 0!=a?(b+=""!==a["Access Charge"]?"Access Charge: "+a["Access Charge"]+"\x3c/br\x3e":"",b+=""!==a["Calls to 0500"]?"Calls to 0500: "+a["Calls to 0500"]+"\x3c/br\x3e":"",b+=""!==a["Calls to 0800/0808"]?"Calls to 0800/0808: "+a["Calls to 0800/0808"]+"\x3c/br\x3e":"",b+=""!==a["Calls to Channel Isles"]?"Calls to Channel Isles: "+a["Calls to Channel Isles"]+"\x3c/br\x3e":"",b+=""!==a["Calls to Landlines"]?"Calls to Landlines: "+a["Calls to Landlines"]+"\x3c/br\x3e":"",b+=""!==a["Calls to MVNO"]?
"Calls to MVNO: "+a["Calls to MVNO"]+"\x3c/br\x3e":"",b+=""!==a["Calls to UK Mobiles"]?"Calls to UK Mobiles: "+a["Calls to UK Mobiles"]+"\x3c/br\x3e":"",b+=""!==a["Calls to Voicemail"]?"Calls to Voicemail: "+a["Calls to Voicemail"]+"\x3c/br\x3e":"",b+=""!==a["Customer Service Calls"]?"Customer Service Calls: "+a["Customer Service Calls"]+"\x3c/br\x3e":"",b+=""!==a.Data?"Data: "+a.Data+"\x3c/br\x3e":"",b+=""!==a["MMS Messages"]?"MMS Messages: "+a["MMS Messages"]+"\x3c/br\x3e":"",b+=""!==a["None Mobile Max Charge"]?
"None Mobile Max Charge: "+a["None Mobile Max Charge"]+"\x3c/br\x3e":"",b+=""!==a["Text Messages"]?"Text Messages: "+a["Text Messages"]:"",e(".tariff-popup .tariff-popup__plan-details .tariff-popup__plan-details-desc.out-of-bundle-charges-desc").html(b),e(".tariff-popup .tariff-popup__plan-details").eq(1).show()):e(".tariff-popup .tariff-popup__plan-details").eq(1).hide();c="";"true"===e("#isEppPage").val()&&(c="\x26store_id\x3d"+e("#eppCompanyCode").val());e.ajax({headers:q,url:v+"/v1/tnc?display\x3dtariff"+
c,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,async:!0,success:function(a){a[0]?a[0].data.content&&""!==a[0].data.content?(e(".tariff-popup .tariff-popup__plan-details .tariff-popup__plan-details-desc.term-conditions-desc").html(a[0].data.content),e(".tariff-popup .tariff-popup__plan-details").eq(2).show()):e(".tariff-popup .tariff-popup__plan-details").eq(2).hide():e(".tariff-popup .tariff-popup__plan-details").eq(2).hide()},complete:function(){window.sg.components.tariffPopup.reInit(0,
!0)}})});tariffData={setTariff:function(c){t=digitalData.page.pageInfo.pageTrack;e(".tariff-popup .tariff-popup__contents-plan .tariff-popup__btn-next").attr("disabled",!0);var a={};e.extend(!0,a,c);G(a);"uk"===m&&(B=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").attr("data-modelcode"),C=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").attr("data-modeldisplay"),D=e(".tariff-popup .tariff-popup__contents-plan-selected .tariff-popup__btn-submit").attr("data-modelname"))}}})(window,
$);