var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var d=0;return function(){return d<c.length?{done:!1,value:c[d++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.makeIterator=function(c){var d="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return d?d.call(c):$jscomp.arrayIterator(c)};$jscomp.arrayFromIterator=function(c){for(var d,e=[];!(d=c.next()).done;)e.push(d.value);return e};
$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};
(function(){function c(a){b.instances.has(a)||new b(a)}function d(){e(f.section).target.forEach(function(a){b.instances.has(a)&&b.instances.get(a).reInit()})}var e=window.sg.common.$q,g=window.sg.common.utils,h=window.sg.common.lazyLoad,f={section:".feature-interaction",img:".feature-interaction__motion-image"},b=function(a){this.selector={section:f.section,img:f.img,contents:".feature-interaction__contents:not(.js-no-scroll-move)",active:"is-active",heightTarget:".feature-interaction__container, .feature-interaction__box"};
this.ele={window:e(window),section:e(a),contents:null,img:null,heightTarget:null};this.setProperty();this.handler={resize:this.resize.bind(this),scroll:this.scroll.bind(this),sectionHeight:this.setSectionHeight.bind(this)};b.instances.set(a,this);this.init()};b.prototype.setProperty=function(){this.ele.contents=this.ele.section.find(this.selector.contents);this.ele.img=this.ele.section.find(this.selector.img);0>=this.ele.img.target.length&&(this.ele.img=this.ele.section);this.ele.heightTarget=this.ele.section.find(this.selector.heightTarget);
this.winHeight=g.getViewPort().height;this.isNoScrollImg=this.ele.img.hasClass("js-no-scroll-move")};b.prototype.init=function(){this.setClass();this.setSectionHeight();this.bindEvents()};b.prototype.reInit=function(){this.setProperty();this.setClass();this.setSectionHeight();this.bindEvents()};b.prototype.resize=function(){this.winHeight=g.getViewPort().height;this.setClass();this.setSectionHeight()};b.prototype.scroll=function(){this.setClass()};b.prototype.bindEvents=function(){this.ele.window.off("scroll",
this.handler.scroll).on("scroll",this.handler.scroll);this.ele.window.off("resize",this.handler.resize).on("resize",this.handler.resize);this.ele.img.find("img").off("load").on("load",this.handler.sectionHeight)};b.prototype.setSectionHeight=function(){var a=[];this.ele.section.css({minHeight:""});this.ele.heightTarget.target.forEach(function(c){a.push(e(c).height())});this.ele.section.css({minHeight:Math.max.apply(Math,$jscomp.arrayFromIterable(a))+"px"})};b.prototype.setClass=function(){var a=this;
this.ele.img.target.forEach(function(c){var b=c.getBoundingClientRect();0<b.bottom&&b.top+.5*b.height<a.winHeight?c.classList.contains(a.selector.active)||(a.isNoScrollImg||a.ele.img.addClass(a.selector.active),a.ele.contents.addClass(a.selector.active)):c.classList.contains(a.selector.active)&&(0>b.bottom||b.top>a.winHeight)&&(a.isNoScrollImg||a.ele.img.removeClass(a.selector.active),a.ele.contents.removeClass(a.selector.active))})};b.instances=new WeakMap;window.sg.components.featureInteraction=
{reInit:d};e.ready(function(){e(f.section).target.forEach(function(a){var b=e(a);if(0<b.find(f.img).target.length)if(h.setPreviewImageLoaded(b.target[0]),b=b.find(".image__preview"),0<b.target.length)b.eq(b.target.length-1).on("load",function(){c(a)});else c(a);else c(a)})});e.load(d)})();